<?xml version="1.0"?>
<!DOCTYPE layout>
<!--
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     default_default
 * @copyright   Copyright (c) 2011 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
-->

<layout>

<!--
Layout handle for budle products
-->

    <!--<default>
        <reference name="left">
            <action method="setData"><attribute>attributeTabs</attribute><attributeType>bundle/adminhtml_catalog_product_edit_tab_attributes</attributeType></action>
        </reference>
    </default>-->
    <adminhtml_virtualgeo_components_georef_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_georef" name="georef" >
 
            </block>
        </reference>
    </adminhtml_virtualgeo_components_georef_index>
    <adminhtml_virtualgeo_components_format_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_format" name="format" >
               </block>
        </reference>
    </adminhtml_virtualgeo_components_format_index>
    <adminhtml_virtualgeo_components_accounting_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_accounting" name="accounting" >
            </block>
        </reference>
    </adminhtml_virtualgeo_components_accounting_index>
    <adminhtml_virtualgeo_components_resolution_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_resolution" name="resolution" >
               </block>
        </reference>
    </adminhtml_virtualgeo_components_resolution_index>
    
    <adminhtml_virtualgeo_components_storage_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_storage" name="storage" >
               </block>
        </reference>
    </adminhtml_virtualgeo_components_storage_index>
    <adminhtml_virtualgeo_components_structure_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_structure" name="structure" >
            
               </block>
        </reference>
    </adminhtml_virtualgeo_components_structure_index>
    <adminhtml_virtualgeo_components_structure_category_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_structure_category" name="cat" >
            </block>
        </reference>
    </adminhtml_virtualgeo_components_structure_category_index>
    <adminhtml_virtualgeo_components_content_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_content" name="geocontent" >
            
               </block>
        </reference>
    </adminhtml_virtualgeo_components_content_index>
    <adminhtml_virtualgeo_components_content_category_index>
        <reference name="content">
            <block type="virtualgeo/adminhtml_components_content_category" name="geocontent" >
               </block>
        </reference>
    </adminhtml_virtualgeo_components_content_category_index>
    
    <adminhtml_catalog_product_virtualgeo>
            <reference name="head">
          <action method="addJs"><script>lib/jstree/jstree.js</script></action>
          <action method="addCss"><stylesheet>lib/jstree/themes/default/style.min.css</stylesheet></action>
           <action method="addJs"><script>bkg/virtualgeo/componentparts.js</script></action>
           <action method="addJs"><script>bkg/virtualgeo/componentparts.bundle.js</script></action>
        </reference>
        <reference name="product_tabs">
            <action method="addTab"><name>virtualgeo_fees</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_fees</block></action>
            <action method="bindShadowTabs"><first>virtualgeo_fees</first><second>price</second></action>
          
            <action method="bindShadowTabs"><first>bundle_items</first><second>customer_options</second></action>
            <action method="addTab"><name>virtualgeo_georef</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_georef</block></action>
            <action method="addTab"><name>virtualgeo_format</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_format</block></action>
            <action method="addTab"><name>virtualgeo_content</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_content</block></action>
            
            <action method="addTab"><name>virtualgeo_structure</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_structure</block></action>
            <action method="addTab"><name>virtualgeo_storage</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_storage</block></action>
            <action method="addTab"><name>virtualgeo_resolution</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_resolution</block></action>
            <action method="addTab"><name>virtualgeo_accounting</name><block>virtualgeo/adminhtml_catalog_product_edit_tab_accounting</block></action>
        </reference>
    </adminhtml_catalog_product_virtualgeo>

    <adminhtml_sales_order_view>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_view_items_renderer</block><template>bundle/sales/order/view/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_view>

    <adminhtml_sales_order_invoice_new>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/invoice/create/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_invoice_new>

    <adminhtml_sales_order_invoice_updateqty>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/invoice/create/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_invoice_updateqty>

    <adminhtml_sales_order_invoice_view>
        <reference name="invoice_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/invoice/view/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_invoice_view>

    <adminhtml_sales_order_shipment_new>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/shipment/create/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_shipment_new>

    <adminhtml_sales_order_shipment_view>
        <reference name="shipment_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/shipment/view/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_shipment_view>

    <adminhtml_sales_order_creditmemo_new>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/creditmemo/create/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_creditmemo_new>

    <adminhtml_sales_order_creditmemo_updateqty>
        <reference name="order_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/creditmemo/create/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_creditmemo_updateqty>

    <adminhtml_sales_order_creditmemo_view>
        <reference name="creditmemo_items">
            <action method="addItemRender"><type>virtualgeo</type><block>bundle/adminhtml_sales_order_items_renderer</block><template>bundle/sales/creditmemo/view/items/renderer.phtml</template></action>
        </reference>
    </adminhtml_sales_order_creditmemo_view>
    
    <adminhtml_customer_wishlist>
        <reference name="customer.wishlist.edit.tab">
            <action method="addProductConfigurationHelper"><type>virtualgeo</type><name>bundle/catalog_product_configuration</name></action>
        </reference>
    </adminhtml_customer_wishlist>

    <PRODUCT_TYPE_virtualgeo>
    
        <reference name="product.composite.fieldset">
            <block type="virtualgeo/adminhtml_catalog_product_composite_fieldset_virtualgeo" before="product.composite.fieldset.options" name="product.composite.fieldset.bundle" template="bundle/product/composite/fieldset/options/bundle.phtml">
                <action method="addRenderer"><type>select</type><block>bundle/adminhtml_catalog_product_composite_fieldset_options_type_select</block></action>
                <action method="addRenderer"><type>multi</type><block>bundle/adminhtml_catalog_product_composite_fieldset_options_type_multi</block></action>
                <action method="addRenderer"><type>radio</type><block>bundle/adminhtml_catalog_product_composite_fieldset_options_type_radio</block></action>
                <action method="addRenderer"><type>checkbox</type><block>bundle/adminhtml_catalog_product_composite_fieldset_options_type_checkbox</block></action>
            </block>
        </reference>
    </PRODUCT_TYPE_virtualgeo>
</layout>
