//
// @category    design
// @package     dwd_default
// @copyright   Copyright (c) 2015 B3-it System GmbH (https://www.b3-it.de)
// @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
//
.catalog-category-view {
    .col2-left-layout {
        .col-main {
            padding-top: 20px;
        }
    }

    .col3-layout {
        .col-main {
            padding-top: 20px;
        }

        .col-right {
            top: 33px;
        }
    }
}

.category-products {
    position: relative;
    top: -32px;

    @include bp(max-width, $bp-mobil) {
        top: -15px;
    }

    p.action .button {
        width: 95%;
    }
}

.in-stock span.value {
	color: $grundfarbe-blau;
}

#product-base-block, #product-options-wrapper {
    margin-bottom: $global-boxmargin;
}

/* ============================================ *
 * Stations - Map
 * ============================================ */
.ui-selectmenu-menu {
	z-index: 1100 !important;
}
#map-block {
	border: $global-active-border solid $grundfarbe-blau;
	padding: $global-boxpadding-large;
}
#suggest-select, .map_size {
	width: 100%;
}
#suggest, #list {
     display: block;
     width: 100%;

     input, select, #stationenListe-button {
         margin: 0;
         width: 100%;
     }

     @include bp(max-width, $bp-mobil) {
         display: block;
         width: 100%;
     }
}
.map_pos, #suggest, #list, #map-block {
	margin-bottom: $global-boxmargin;
}
#map a, #map_quest_logo a {
     background-color: transparent;
}
.map_size {
    height: 600px;
    font-size: 0.7rem;
}

#OpenLayers_Control_PanZoom_zoomin {
	top: 66px !important;
}
.ol-panzoom .ol-zoomslider .ol-zoomslider-thumb {
	margin: 0 -3px !important;
}

.olControlMousePosition {
    left: 6%;
}
.olControlAttribution {
    left: 40%;
}
.olControlScaleLine {
    left: 90%;
}
.olAlphaImg {
	cursor: pointer;
}
.olPopup {
	@include bp(max-width, $bp-mobil) {
	    left: 40% !important;
	}
}
#map_quest_logo {
    text-align: right;
    padding-right: 5px;
    position: relative;
    top: -20px;
    z-index: 1000;
}

.ol-popup {
    display: none;
    position: absolute;
    background-color: white;
    padding: 15px 25px 15px 15px;
    border: 1px solid #cccccc;
    bottom: 12px;
    left: -50px;
}

.ol-popup:after, .ol-popup:before {
    top: 100%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.ol-popup:after {
    border-top-color: white;
    border-width: 10px;
    left: 48px;
    margin-left: -10px;
}

.ol-popup:before {
    border-top-color: #cccccc;
    border-width: 11px;
    left: 48px;
    margin-left: -11px;
}

.ol-popup-content {
    min-width: 220px;
    max-height: 200px;
    overflow-x: auto;
}

.ol-popup-closer {
    position: absolute;
    top: 2px;
    right: 2px;
    font-size: 150%;
    padding: 0 4px;
    color: gray;
    text-decoration: none;
}

.ol-popup-closer:after {
    content: "\2716";
}

.ol-popup div.infoResult {
    min-width: 130px;
}

.ol-popup div.infoResult p {
    padding: 0.1em;
    margin: 0;
}

.ol-popup-content h3 {
    margin: 0.25em 0;
}

.ol-popup.marker {
    margin-bottom: 30px;
}


.ol-popup-content {
	background-color: $grundfarbe-weiss;

	.olLayerGeoRSSTitle, .olLayerGeoRSSClose {
	    display: block;
	    background-color: $grundfarbe-blau;
	    color: $grundfarbe-weiss;
	    padding: 5px 50px 5px 10px;
	}
    .olLayerGeoRSSTitle > span {
       font-weight: bold;
    }
	.olLayerGeoRSSClose {
	    @include hover-blau-weiss;
	    cursor: pointer;
	    display: inline-block;
	    position: absolute;
	    right: 0;
	    top: 0;
        font-size: 15px;
        font-weight: normal;
        padding: 4px 10px;
	}
	.olLayerGeoRSSDescription {
	    width: 100%;
	    height: 75%;
	    border: $global-active-border solid $grundfarbe-weiss;

	    span {
		    @include grau-hover-blau;
		    cursor: pointer;
		    padding: 12px 10px;
		    font-size: 1.2rem;
		    height: 51px;
		    position: relative;
		    top: 35%;
		    display: block;
		    margin: 10px auto;
		}
	}
}

/* ============================================ *
 * Stations - Suggest
 * ============================================ */
#quick_autocomplete {
    z-index: 9999;

    ul {
        width: 100%;
    }

    li {
        display: inline-block;
        width: 33%;

        @include bp(max-width, $bp-mobil) {
            width: 48%;

            &:nth-child(2n+0) {
            	margin-left: 4%;
        	}
        }
    }
}


/* ============================================ *
 * Catalog - Product
 * ============================================ */
.col1-layout, .col2-left-layout {
    .category-products, .category-title, .product-view {
        width: 100%;
	  }

	  input[type="text"] {
	    margin: 0;
	  }
}

.col2-right-layout {
    .category-products, .category-title, .product-view {
        width: $global-content-2col-right-width;
	  }
}

.col3-layout {
    .category-products, .product-view {
        width: $global-content-3col-percent;

        @include bp(max-width, $bp-medium) {
        	width: 100%;
        }
    }
    .product-name {
        width: $global-maincol-title-percent;
    }

    .product-view {
        .tab-content {
            .std {
                width: 100%;
            }
        }
    }
}

.catalog-product-view {
	.validation-advice {
	    color: $global-warning-color;
	}
	.validation-failed {
	    border-color: $global-warning-color !important;

	    label {
	        color: $global-warning-color;
	    }
	}

    .col1-layout {
        .col-main {
            padding-top: 13px;
        }

        #product-base-block {
            margin-bottom: $global-boxmargin;
        }

        #additional-product-images {
            position: absolute;
            width: 55%;
            left: 42%;
        }

        .product-additional-information {
            display: block;
            width: 100%;

            .short-description {
                margin: 0;
            }
        }
        #additional-product-images {
            top: 400px;
        }

        .product-img-box {
            width: $global-product-image-1-width;

            img {
                height: 95%;
                max-width: 97%;
            }
        }

        .product-shop {
            width: $global-product-info-1-width;
            font-size: 1.3em;

            .price-info {
                .price-box {
                    span.label {
                        display: inline-block;
                        width: 20%;
                    }
                }
                .tax-details {
                    display: block;
                }
            }

            .add-to-cart-buttons {
                float: left;
                max-width: 180px;

                button {
                    font-size: 0.9em;
                }
            }
        }

        .product-options {
            .options-list label {
                position: relative;
                top: 5px;
            }
        }

        .add-to-cart {
            position: absolute;
            top: $global-1-product-height - $gobal-cart-block-height - 140px;
            left: $global-product-image-1-width + 2%;

            @include bp(max-width, $bp-mobil) {
            	position: relative;
            	top: auto;
            	left: auto;
            }

            .add-to-cart-buttons {
                display: inline-block;
            }
        }
    }

    .col2-left-layout {
        .mobile-product-name h1, .product-name h1 {
		    border-bottom: $global-active-border solid $textfarbe-mittel;
		    color: $grundfarbe-blau;
		    font-size: $global-h4-size;
		    margin-bottom: 3px;
		    padding-bottom: 3px;
        }
        .product-sku {
            font-size: 1rem;
            color: $textfarbe-mittel;
            margin-bottom: 15px;
        }

        .mobile-product-name {
            height: auto;

            h1 {
                overflow: hidden;
                height: 100%;
            }
        }

        .add-to-cart {
            @include bp(max-width, $global-fullpage-width) {
                padding: 10px 5px;
                width: 100%;
                display: block;
                background-color: $grundfarbe-blgr;
            }

            .qty-wrapper, .add-to-cart-buttons {
                @include bp(max-width, $global-fullpage-width) {
                    width: 48%;
                    display: inline-block;
                    vertical-align: top;
                }
            }

            .add-to-cart-buttons {
                @include bp(max-width, $global-fullpage-width) {
                    position: relative;
                    right: -2%;
                }
            }

            button {
                @include bp(max-width, $global-fullpage-width) {
                    margin: 0 !important;
                }
            }

            .button-full-width {
                width: 70%;
                float: none;
            }

            span.egov-cart {
                &:before {
                    @include bp(max-width, $global-fullpage-width) {
                        content: '';
                    }
                }
            }
        }

        .product-img-box, .short-description, .product-shop {
            display: table-cell;
            vertical-align: top;
            border: 0;
            font-size: 1rem;
            line-height: 1rem;
            color: $textfarbe-mittel;
        }

        .product-img-box {
            padding-right: 30px;
            width: 27.5%;

            @include bp(max-width, $bp-mobil) {
                display: none;
            }
        }
        .mobile-product-img-box {
            display: none;
            max-height: 190px;

            @include bp(max-width, $bp-mobil) {
                display: inline;
                float: left;
                margin: 0 10px 10px 0;
                position: relative;
                top: -0.1rem;
                width: 40%;
            }

            img {
               height: 100%;
               max-width: 100%;
               max-height: 180px;
            }
        }

        .short-description {
            padding-right: 20px;

            @include bp(max-width, $bp-mobil) {
                display: block;
                min-height: 200px;
            }
        }

        .product-shop {
            width: 30.5%;
            text-align: center;

            @include bp(max-width, $global-fullpage-width) {
                display: block;
                width: 100%;
                text-align: left;
                padding: 0;
            }
        }

        .short-description-title {
            font-weight: bold;
        }

        .price {
            font-size: $global-h4-size;
            color: $grundfarbe-blau;
        }

        .delivery-time {
            font-size: 0.8rem;
        }

        .product-additional-information {
            dt {
                margin-top: 0;
                margin-bottom: 10px;
            }

            .option-block-label {
                font-weight: bold;
            }

            .option-block {
                display: block;
                width: 100%;

                select, input[type="text"], textarea {
                    @include input-field;
                    width: 90%;
                }
            }

            .type-checkbox {
                vertical-align: top;
                display: block;

                .options-list li {
                    display: inline-block;
                    width: 48%;
                }
            }

            .type-date {
                input[type="text"] {
                    width: 60%;
                }
                img {
                    display: inline-block;
                }
            }
        }
    }
    .col3-layout {
        .col-main {
            padding-top: 13px;
        }

        #product-base-block {
            height: $global-3-product-height;
        }

        .product-img-box {
            width: $global-product-image-3-width;
        }
        .product-shop {
            width: $global-product-info-3-width;
        }

        .product-options {
            .options-list {
                label {
                    position: relative;
                    top: 5px;
                }
            }
        }

        .price-info {
            .price-box {
                span.label {
                    display: inline-block;
                    width: 50%;
                }
            }
        }

        .add-to-cart {
            position: absolute;
            top: $global-3-product-height - $gobal-cart-block-height;
            left: $global-product-image-3-width + 1%;
        }
    }
}

.product-view {
    #grouped-product-avalible-moved {
        display: none;
        font-size: 0.9rem;

        span.in-stock, span.not-in-stock, .value {
            font-size: 1.2rem;
            color: $grundfarbe-blau;
        }

        .label {
            font-size: 0.9rem;
        }
    }

    .product-shop .tax-details {
        display: block;
    }

    .required {
        color: $global-warning-color;

        em {
            margin-right: $fa-icon-margin;
        }
    }

    .tab-content {
        .std {
            width: 100%;
        }
    }

    .product-additional-information {
        .short-description {
            margin: $box-spacing 0;

            .std {
                width: 100%;
            }
        }
    }

    .product-essential {
        h2 {
            margin: 0;
        }

        .add-to-cart-wrapper {
            padding: 0px;
        }

        .extra-info {
            .ratings {
                .rating-box,
                .amount {
                    float: left;
                }

                .rating-box {
                    margin-top: 8px;
                    margin-right: $gap;
                }

                &:after {
                    @include clearfix;
                }
            }
        }

        &:after {
            @include clearfix;
        }
    }

    #addTagForm {
        label {
            display: block;
        }

        .input-box {
            display: inline-block;
            margin-right: $global-boxmargin;
        }
    }

    .product-shop {
        height: 100%;
        display: inline-block;
        vertical-align: top;

        .product-sku {
            padding: 0px 0px 10px 0px;
        }

        .extra-info,
        .price-info {
            margin-bottom: $box-spacing;
        }

        .ratings {
            margin-bottom: 8px;
        }

        .price-box {
            margin-top: 0;

            .price-from, .price-to {
                padding: 10px 0;
            }
            .old-price,
            .special-price,
            .regular-price {
                padding-right: 0;
                line-height: $global-lineheight;
            }

            .special-price {

                .price-label {
                    font-size: $global-fontsize;
                }

                span.weee {
                    color: $global-fontcolor-dark;

                    span.price {
                        font-size: $global-fontsize;
                    }
                }
            }

            .price-excluding-tax,
            .price-including-tax {
                display: block;
                line-height: $global-lineheight;
                color: $global-fontcolor-dark;

                .label {
                    font-size: $global-fontsize;
                }

                .price {
                    font-size: $global-fontsize-big;
                    font-weight: bold;
                }
            }

        }
    }

    .price-box.map-info a {
        display: inherit;
    }

    .old-price {
        .price-label {
            display: none;
        }
    }
}

.product-img-box {
    height: 100%;
    display: inline-block;
    vertical-align: top;

    .product-name {
        h1 {
            border: 0;
        }
    }

    .product-image {
        position: relative;
        top: -17px;
    }

    .product-image img {
        max-width: 215px;
        max-height: 750px;
        margin: 0px auto;
        height: auto;
        width: auto;
    }
}

// On smaller devices, we want to further limit the height of the image, to prevent cropping
@include bp(max-width, $bp-xsmall) {
    .product-img-box .product-image img {
        max-height: 450px;
    }
}

.product-image-gallery {
    position: relative;

    .gallery-image {
        display: none;

        &.visible {
            display: block;

            &.hidden {
                visibility:hidden;
            }
        }
    }

    @include loadingOverlay();
}

.product-image-thumbs {
    li {
        display: inline-block;
    }
    li:first-child {
        margin-left: -1px;
    }
    a {
        display: inline-block;
        border: 1px solid transparent;
    }
}

.product-view .product-shop,
.product-view .add-to-cart-wrapper,
.product-view .block-related {
    padding-left: $trim/2;
}

.product-view {
    form > div.price-box, form > span.tax-details {
        display: none;
    }

    #add-to-cart-top, .add-to-cart {
        background-color: $grundfarbe-blgr;
	    padding: 10px 5px;

	    .input-text {
	        padding: 10px;
	        border-color: $grundfarbe-blau;
	        margin: 7px 0;

	        @include bp(max-width, $global-fullpage-width) {
	            padding: 10px 3px;
	        }
	    }

	    .button {
	        width: 100px;
	        padding: 7px 5px;
	        height: 58px;

	        @include bp(max-width, $global-fullpage-width) {
	            float: none !important;
	            width: 180px !important;
	            padding: 10px 5px !important;
	        }
	    }
	}

	#add-to-cart-top {
        width: 100%;

	    .button-full-width {
            width: 100%;
        }

	    .input-text {
	        width: 20%;

	        @include bp(max-width, $global-fullpage-width) {
	            width: 10%;
	        }
	    }
	}

	.add-to-cart {
	    position: relative;
        top: -15px;
	    width: 260px;

	    .button {
	        width: 120px;
	        padding: 7px 20px;
	        height: 58px;
	    }

	    .input-text {
            width: 30%;

	        @include bp(max-width, $global-fullpage-width) {
	             width: 10%;
	        }
	    }
	}

	.background-transparent {
	    background: transparent;
	    padding: 0;
	}

    /* Set a min-height so that the floated elements break appropriately */
    .product-options-bottom .price-box {
        min-height: 40px;
    }

    .add-to-cart .qty-wrapper label {
        margin-right: 7px;
        line-height: 100%;
    }

    .add-to-cart .qty-wrapper .qty {
        height: 40px;
        width: 65%;
        height: 51px;
    }

    .alert-price,
    .alert-stock {
        clear: both;
    }
}

/* This is the "or" that separates the "Add to Cart" and "Add to X" links */
.add-to-box .or {
    display: none;
}

.product-view .add-to-links {
    display: none;
}

.product-view .sharing-links {
    display: none;
}

@include bp(max-width, $bp-small) {
    .add-to-box .add-to-links {
        a {
            float: none;
            width: auto;
            @include image-replacement-override;
        }
    }
}

.product-collateral {
    clear: both;
}

.collateral-tabs {
    dd {
        h2 {
            display: none;
        }
    }
}

.box-collateral {
    clear: both;
}

@include bp(max-width, $bp-mobil) {
	.product-collateral {
        @include accordion;
        @include accordionCollapse;
	}
    .product-view .product-shop,
    .product-view .add-to-cart-wrapper,
    .product-view .block-related,
    .product-img-box,
    .product-collateral {
        width: 100%;
        float: none;
        padding-right: 0;
        padding-left: 0;
    }
}

@include bp(min-width, $bp-mobil + 1) {
    .product-collateral {
        @include tabs;
    }
    .product-view .product-shop .product-name {
        display: block;
    }
    .product-img-box .product-name {
        display: none;
    }
}

@include bp(max-width, $bp-xsmall) {

    .product-view .product-shop,
    .product-img-box,
    .product-collateral,
    .product-view .block-related,
    .box-collateral {
        margin-bottom: $trim-small;
    }
}

.product-view .ratings {
    .rating-links {
        clear: left;
        float: left;
        margin-top: 0;
    }
}

#product-attribute-specs-table {
    width: 100%;
    empty-cells: show;
    border-collapse: collapse;
    border-spacing: 0px;

    th, td {
        border: $global-box-border solid $grundfarbe-blau;
        padding: 5px;
        vertical-align: top;
    }

    th {
        background-color: $grundfarbe-blgr;
    }
}

/* -------------------------------------------- *
 * Catalog - Grouped Product List
 */

.grouped-items-table-wrapper {
    border: $global-active-border solid $grundfarbe-blau;
    width: 100%;
    padding: 10px;
    margin-bottom: $global-boxmargin;

    @include bp(max-width, $bp-xsmall) {
        margin-bottom: $trim-small;
    }
}

.grouped-items-table {
	width: 100%;

	input {
	    padding: 5px 15px;
	    width: 70px;

	    &:hover, &:active, &:focus {
	        background-color: $grundfarbe-weiss;
	    }
	}

    .name-wrapper {
        display: inline-block;
    }
    .qty-wrapper {
        display: block;
        margin-top: $element-spacing;
        background-color: $grundfarbe-blgr;
        padding: 10px;
    }

    .qty-label {
        margin-left: $element-spacing;
    }

    td {
        padding: 4px;
        vertical-align: bottom;

        &.image-cell {
            vertical-align: top;
            text-align: left;
        }

        img {
            width: 100%;
            height: auto;
        }

        &:first-child {
            width: 100px;
        }
        &:last-child {
            width: 30%;
        }
    }
    .tax-details, .price-box {
        display: inline-block;
    }
    .price-box{
        float: right;
    }
}

/* -------------------------------------------- *
 * Catalog - Product Options
 */

.product-options {
    width: 100%;
    padding: 10px 15px 15px;
    border: $global-box-border solid $grundfarbe-blau;
    position: relative;
}

.product-options p.required {
    position: absolute;
    top: 6px;
    right: 15px;
    text-align: right;
}

@include bp(max-width, $bp-large) {
    .product-view .product-options .required {
        position: static;
    }
}

.product-options dt {
    margin: $gap 0 3px;
    font-weight: normal;
}

.product-options dt:first-child {
    margin-top: 0;
}

.product-options dd .qty-holder {
    display: block;
    padding: $gap 0 0 0;
}

.product-options dd .qty-holder .qty {
    width: 3em;
}

.product-options dd .qty-holder label {
    vertical-align: middle;
}

.product-options dd .qty-disabled {
    background: none;
    border: 0;
    padding: 0 2px;
}

.product-options dd {
    padding: 0 0 10px 0;
    margin: 0 0 5px;
    &:not(:last_child) {
        border-bottom: $global-box-border solid $grundfarbe-blgr;
    }
}

.product-options dl.last dd.last {
    border-bottom: 0;
    padding-bottom: 5px;
    margin-bottom: 0;
}

.product-options dd .input-text {
    width: 98%;
}

.product-options dd .input-box {
    padding-top: 0;
}

.product-options dd input.datetime-picker {
    width: 150px;
}

.product-options dd .time-picker {
    @include inline-block;
    padding: 2px 0;
    vertical-align: middle;
}

.product-options dd textarea {
    width: 98%;
    height: 8em;
}

.product-options dd select {
    width: 330px;
    max-width: 100%;
}

.product-options ul.options-list {
    margin-right: 5px;
}

.product-options ul.options-list li {
    margin: 10px 0;
}

.product-options ul.options-list li:last-child {
    margin-bottom: 0;
}

.product-options ul.options-list .radio,
.product-options ul.options-list .checkbox {
    float: left;
    margin-top: 4px;
}

.product-options ul.options-list .label {
    display: block;
}

.product-options ul.options-list label {
    font-weight: normal;
}

.product-options p.note {
    margin: 0;
    font-size: $global-fontsize-small;
}

.product-options-bottom {
    margin-bottom: $global-boxmargin;

    .tax-details, .add-to-links {
        display: none;
    }
}

.product-options-bottom:after {
    @include clearfix;
}

.product-options-bottom .product-pricing,
.product-options-bottom .tier-prices {
    float: right;
    margin: 0;
    padding: 0 0 $gap;
    border: 0;
    background: 0;
    color: $c-text;

    @include bp(max-width, $bp-xlarge) {
        float: none;
        width: 100%;
        text-align: right;
        padding-bottom: $gap / 2;
        margin-bottom: $gap;
        border-bottom: $global-box-border solid $global-border-color;
    }
}

.product-options-bottom .tier-prices li {
    background: 0;
    padding: 2px 0;
}

.product-options-bottom .tier-prices .price,
.product-options-bottom .tier-prices .benefit {
    color: $global-price-normal-color;
}

/* "display: none" should be removed if products on site have a long list of product options and those product options */
/*  affect the price so that the customer can see the updated price close to the "Add to Cart" button */
.product-options-bottom .price-box {
    display: none;
    float: right;
    margin: 0 0 $gap;
    padding: 0;
}

@include bp(max-width, $bp-xsmall) {
    .product-options-bottom .price-box .price-as-configured {
        text-align: right;

        .price-label {
            display: block;
        }
    }
}

.product-options-bottom .price-tax {
    float: left;
}

/* -------------------------------------------- *
 * Upsell Products
 */

.box-up-sell {
    margin-top: $box-spacing-large;

    .ratings {
        display: none;
    }
}

div.block-cart {
	font-size: 1rem;

    .block-content {
        padding: 0px 5px;

        .egov-cart {
            font-size: 20px;
        }

        .price {
            font-size: 1rem;
        }

        .summary {
            padding: 0 5px;
            p {
                margin: inherit;
            }
        }
    }
}